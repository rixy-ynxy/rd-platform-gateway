{
  "name": "webapp",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "dev:sandbox": "wrangler pages dev dist --ip 0.0.0.0 --port 3000",
    "dev:d1": "wrangler pages dev dist --d1=webapp-production --local --ip 0.0.0.0 --port 3000",
    "build": "npm run build:frontend && vite build",
    "build:backend": "vite build",
    "build:frontend": "BUILD_TARGET=frontend vite build",
    "preview": "wrangler pages dev dist",
    "deploy": "npm run build && wrangler pages deploy dist",
    "deploy:prod": "npm run build && wrangler pages deploy dist --project-name webapp --config wrangler.production.jsonc",
    "cf-typegen": "wrangler types --env-interface CloudflareBindings",
    "clean-port": "fuser -k 3000/tcp 2>/dev/null || true",
    "test": "curl http://localhost:3000",
    "db:create": "wrangler d1 create webapp-production",
    "db:migrate:local": "wrangler d1 migrations apply webapp-production --local",
    "db:migrate:prod": "wrangler d1 migrations apply webapp-production",
    "db:seed": "wrangler d1 execute webapp-production --local --file=./seed.sql",
    "db:reset": "rm -rf .wrangler/state/v3/d1 && npm run db:migrate:local && npm run db:seed",
    "db:console:local": "wrangler d1 execute webapp-production --local",
    "db:console:prod": "wrangler d1 execute webapp-production",
    "kv:create": "wrangler kv:namespace create CACHE && wrangler kv:namespace create CACHE --preview",
    "r2:create": "wrangler r2 bucket create webapp-files",
    "secrets:put:keycloak": "wrangler pages secret put KEYCLOAK_CLIENT_SECRET KEYCLOAK_ADMIN_USERNAME KEYCLOAK_ADMIN_PASSWORD --project-name webapp",
    "secrets:put:stripe": "wrangler pages secret put STRIPE_SECRET_KEY STRIPE_WEBHOOK_SECRET --project-name webapp",
    "secrets:put:jwt": "wrangler pages secret put JWT_SECRET --project-name webapp",
    "secrets:put:email": "wrangler pages secret put SMTP_HOST SMTP_PORT SMTP_USER SMTP_PASS FROM_EMAIL FROM_NAME --project-name webapp",
    "secrets:put:admin": "wrangler pages secret put DEFAULT_ADMIN_EMAIL DEFAULT_ADMIN_PASSWORD DEFAULT_ADMIN_NAME --project-name webapp",
    "secrets:put:security": "wrangler pages secret put COOKIE_SECRET --project-name webapp",
    "secrets:put:all": "npm run secrets:put:keycloak && npm run secrets:put:stripe && npm run secrets:put:jwt && npm run secrets:put:email && npm run secrets:put:admin && npm run secrets:put:security",
    "secrets:list": "wrangler pages secret list --project-name webapp",
    "secrets:delete": "wrangler pages secret delete",
    "setup:dev": "cp .dev.vars.example .dev.vars && echo 'Please edit .dev.vars with your actual values'",
    "setup:db": "npm run db:create && npm run db:migrate:local && npm run db:seed",
    "setup:services": "npm run kv:create && npm run r2:create",
    "setup:all": "npm run setup:dev && npm run setup:db && npm run setup:services",
    "git:init": "git init && git add . && git commit -m 'Initial commit'",
    "git:commit": "git add . && git commit -m",
    "git:status": "git status",
    "git:log": "git log --oneline",
    "supabase:test": "node scripts/test-supabase-connection.js",
    "supabase:setup": "echo 'ðŸ“‹ Supabase Setup Guide: docs/supabase-setup-guide.md'",
    "supabase:schema": "node scripts/create-supabase-schema.js"
  },
  "dependencies": {
    "@supabase/supabase-js": "^2.58.0",
    "hono": "^4.9.9",
    "jose": "^5.2.0",
    "stripe": "^14.14.0"
  },
  "devDependencies": {
    "@cloudflare/workers-types": "4.20250705.0",
    "@hono/vite-cloudflare-pages": "^0.4.2",
    "typescript": "^5.0.0",
    "vite": "^6.3.5",
    "wrangler": "^4.4.0"
  }
}
